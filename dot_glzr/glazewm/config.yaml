general:
  # Commands to run when the WM has started.
  startup_commands: ['shell-exec zebar']

  # Commands to run just before the WM is shutdown.
  shutdown_commands: ['shell-exec taskkill /IM zebar.exe /F']

  # Commands to run after the WM config is reloaded.
  config_reload_commands: []

  # Whether to automatically focus windows underneath the cursor.
  focus_follows_cursor: false

  # Whether to switch back and forth between the previously focused
  # workspace when focusing the current workspace.
  toggle_workspace_on_refocus: false

  cursor_jump:
    enabled: true
    # 'monitor_focus' or 'window_focus'
    trigger: 'monitor_focus'

  # How windows are hidden when switching workspaces.
  # - 'cloak': Recommended, smoother transitions without animation.
  # - 'hide': Traditional hide method.
  hide_method: 'cloak'

  # Whether to show all windows in the taskbar or only the current workspace.
  show_all_in_taskbar: false

gaps:
  # Whether to scale the gaps with the DPI of the monitor.
  scale_with_dpi: true

  # Gap between adjacent windows.
  inner_gap: '5px'

  # Gap between windows and the screen edge.
  outer_gap:
    top: '5px'
    right: '5px'
    bottom: '5px'
    left: '5px'

window_effects:
  # Visual effects for the focused window.
  # ** Border and corner_style are exclusive to Windows 11.
  focused_window:
    border:
      enabled: true
      color: '#88c0d0'  # Nord frost
    hide_title_bar:
      enabled: false
    corner_style:
      enabled: true
      style: 'rounded'  # 'square', 'rounded', 'small_rounded'
    transparency:
      enabled: false
      opacity: '100%'

  # Visual effects for non-focused windows.
  other_windows:
    border:
      enabled: true
      color: '#4c566a'  # Nord polar night
    hide_title_bar:
      enabled: false
    corner_style:
      enabled: true
      style: 'rounded'
    transparency:
      enabled: false
      opacity: '100%'

window_behavior:
  # New windows are created in this state whenever possible.
  # Allowed values: 'tiling', 'floating'.
  initial_state: 'tiling'

  # Sets the default options for when a new window is created. This also
  # changes the defaults for when the state change commands, like
  # `set-floating`, are used without any flags.
  state_defaults:
    floating:
      # Whether to center floating windows by default.
      centered: true

      # Whether to show floating windows as always on top.
      shown_on_top: false

    fullscreen:
      # Maximize the window if possible. If the window doesn't have a
      # maximize button, then it'll be fullscreen'ed normally instead.
      maximized: false

      # Whether to show fullscreen windows as always on top.
      shown_on_top: false

workspaces:
  - name: '1'
  - name: '2'
  - name: '3'
  - name: '4'
  - name: '5'
  - name: '6'
  - name: '7'
  - name: '8'
  - name: '9'

window_rules:
  # Ignore rules - these windows are not managed by GlazeWM.
  - commands: ['ignore']
    match:
      # Zebar status bar
      - window_process: { equals: 'zebar' }

      # Picture-in-picture windows
      - window_title: { regex: '[Pp]icture.in.[Pp]icture' }
        window_class: { regex: 'Chrome_WidgetWin_1|MozillaDialogClass' }

      # PowerToys
      - window_process: { equals: 'PowerToys' }
        window_class: { regex: 'HwndWrapper\[PowerToys\.PowerAccent.*?\]' }
      - window_process: { equals: 'PowerToys' }
        window_title: { regex: '.*? - Peek' }

      # Windows 11 Command Palette
      - window_title: { equals: 'Command Palette' }
        window_class: { equals: 'WinUIDesktopWin32WindowClass' }

      # Lively Wallpaper
      - window_process: { equals: 'Lively' }
        window_class: { regex: 'HwndWrapper' }

      # Microsoft Office helper windows
      - window_process: { equals: 'EXCEL' }
        window_class: { not_regex: 'XLMAIN' }
      - window_process: { equals: 'WINWORD' }
        window_class: { not_regex: 'OpusApp' }
      - window_process: { equals: 'POWERPNT' }
        window_class: { not_regex: 'PPTFrameClass' }

  # Floating rules - these windows open as floating by default.
  - commands: ['set-floating --centered']
    match:
      # System Settings
      - window_process: { equals: 'SystemSettings' }

      # Common dialog windows
      - window_title: { regex: '(Settings|Preferences|Options|Properties)$' }

      # Windows dialogs
      - window_class: { equals: '#32770' }  # Common dialog class

      # 1Password
      - window_process: { equals: '1Password' }

      # Flow Launcher
      - window_process: { equals: 'Flow.Launcher' }

      # Calculator
      - window_process: { equals: 'CalculatorApp' }

binding_modes:
  # Resize mode - fine-grained window resizing with hjkl or arrow keys.
  - name: 'resize'
    keybindings:
      - commands: ['resize --width -2%']
        bindings: ['h', 'left']
      - commands: ['resize --width +2%']
        bindings: ['l', 'right']
      - commands: ['resize --height +2%']
        bindings: ['k', 'up']
      - commands: ['resize --height -2%']
        bindings: ['j', 'down']
      - commands: ['wm-disable-binding-mode --name resize']
        bindings: ['escape', 'enter']

keybindings:
  # Focus in a given direction (hjkl + arrow keys).
  - commands: ['focus --direction left']
    bindings: ['alt+h', 'alt+left']
  - commands: ['focus --direction right']
    bindings: ['alt+l', 'alt+right']
  - commands: ['focus --direction up']
    bindings: ['alt+k', 'alt+up']
  - commands: ['focus --direction down']
    bindings: ['alt+j', 'alt+down']

  # Move focused window (hjkl + arrow keys).
  - commands: ['move --direction left']
    bindings: ['alt+shift+h', 'alt+shift+left']
  - commands: ['move --direction right']
    bindings: ['alt+shift+l', 'alt+shift+right']
  - commands: ['move --direction up']
    bindings: ['alt+shift+k', 'alt+shift+up']
  - commands: ['move --direction down']
    bindings: ['alt+shift+j', 'alt+shift+down']

  # Resize focused window.
  - commands: ['resize --width -2%', 'resize --height -2%']
    bindings: ['alt+shift+minus']
  - commands: ['resize --width +2%', 'resize --height +2%']
    bindings: ['alt+shift+equal']

  # Enter resize mode for fine-grained control.
  - commands: ['wm-enable-binding-mode --name resize']
    bindings: ['alt+r']

  # Pause all keybindings (toggle).
  - commands: ['wm-toggle-pause']
    bindings: ['alt+shift+p']

  # Layout direction controls.
  - commands: ['toggle-tiling-direction']
    bindings: ['alt+semicolon']
  - commands: ['set-tiling-direction horizontal']
    bindings: ['alt+ctrl+comma']
  - commands: ['set-tiling-direction vertical']
    bindings: ['alt+ctrl+period']

  # Window state toggles.
  - commands: ['toggle-floating --centered']
    bindings: ['alt+shift+space']
  - commands: ['toggle-tiling']
    bindings: ['alt+t']
  - commands: ['toggle-fullscreen']
    bindings: ['alt+f']
  - commands: ['toggle-minimized']
    bindings: ['alt+m']

  # Close focused window.
  - commands: ['close']
    bindings: ['alt+q']

  # WM controls.
  - commands: ['wm-redraw']
    bindings: ['alt+shift+e']
  - commands: ['wm-reload-config']
    bindings: ['alt+shift+r']
  - commands: ['wm-exit']
    bindings: ['alt+shift+ctrl+e']

  # Workspace navigation.
  - commands: ['focus --recent-workspace']
    bindings: ['alt+tab']
  - commands: ['focus --next-active-workspace']
    bindings: ['alt+d']
  - commands: ['focus --prev-active-workspace']
    bindings: ['alt+a']

  # Focus workspace by number (aerospace style: alt+z/x/c/v/b for 1-5).
  - commands: ['focus --workspace 1']
    bindings: ['alt+z']
  - commands: ['focus --workspace 2']
    bindings: ['alt+x']
  - commands: ['focus --workspace 3']
    bindings: ['alt+c']
  - commands: ['focus --workspace 4']
    bindings: ['alt+v']
  - commands: ['focus --workspace 5']
    bindings: ['alt+b']

  # Move window to workspace and follow.
  - commands: ['move --workspace 1', 'focus --workspace 1']
    bindings: ['alt+shift+z']
  - commands: ['move --workspace 2', 'focus --workspace 2']
    bindings: ['alt+shift+x']
  - commands: ['move --workspace 3', 'focus --workspace 3']
    bindings: ['alt+shift+c']
  - commands: ['move --workspace 4', 'focus --workspace 4']
    bindings: ['alt+shift+v']
  - commands: ['move --workspace 5', 'focus --workspace 5']
    bindings: ['alt+shift+b']

  # Move workspace between monitors.
  - commands: ['move-workspace --direction left']
    bindings: ['alt+ctrl+h', 'alt+ctrl+left']
  - commands: ['move-workspace --direction right']
    bindings: ['alt+ctrl+l', 'alt+ctrl+right']
  - commands: ['move-workspace --direction up']
    bindings: ['alt+ctrl+k', 'alt+ctrl+up']
  - commands: ['move-workspace --direction down']
    bindings: ['alt+ctrl+j', 'alt+ctrl+down']
  - commands: ['move-workspace --direction right']
    bindings: ['alt+shift+tab']
